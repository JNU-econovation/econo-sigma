{"ast":null,"code":"var _jsxFileName = \"/Users/jeongsu-in/CRA/chackcheck-project/FE/src/components/common/home/SearchBar.jsx\",\n  _s = $RefreshSig$();\nimport { React, useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport BookList from \"./BookList\";\nimport { ReactComponent as SearchButton } from \"../../../assets/searchButton.svg\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Books = styled.div`\n    display: grid;\n    place-items: center;\n    grid-template-columns: repeat(4, 1fr);\n    grid-template-rows: repeat(2, 1fr);\n    row-gap: 5em;\n    margin: auto;\n`;\n_c = Books;\nconst SearchBox = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 70vw;\n    height: 3.2em;\n    border-radius: 3em;\n    background-color: #fff;\n    border: 0.15em solid transparent;\n    background-image: linear-gradient(#fff, #fff),linear-gradient(to right,#4D4ABF,#FB8500);\n    border-image-slice: 1;\n    background-origin: border-box;\n    background-clip: content-box, border-box;\n    margin-bottom: 5em;\n\n`;\n_c2 = SearchBox;\nconst SearchInput = styled.input`\n    width: 90%;\n    font-size: 1.3em;\n    margin-left: 0.7em;\n    background: transparent;\n    border: none;\n    -webkit-appearance: none;\n    &:focus {\n        outline: none;\n        cursor: text;\n    }\n    ;\n`;\n_c3 = SearchInput;\nconst SearchBtn = styled(SearchButton)`\n    width: 2.5em;\n    height: 2.5em;\n\n`;\n_c4 = SearchBtn;\nfunction SearchBar() {\n  _s();\n  const {\n    category_id\n  } = useParams();\n  const [search, setSearch] = useState(\"\");\n  const [filteredData, setFilteredData] = useState([]);\n  const onChange = e => setSearch(e.target.value);\n  const [book, setBook] = useState([]);\n  const getBook = async () => {\n    try {\n      const response = await fetch('http://localhost:3001/db');\n      //const response = await fetch(`http://경로/백엔드에서 지정한 카테고리명?=${category_id}`)// 각 카테고리마다의 데이터를 가져옴\n      const json = await response.json(); // 응답을 JSON으로 변환\n      setBook(json); // 상태를 업데이트\n    } catch (error) {\n      console.error('Fetching books failed:', error); // 오류가 발생한 경우 콘솔에 오류 메시지 출력\n    }\n  };\n  const Search = () => {\n    const newFilteredData = book.data.books.filter(item => item.title.toLowerCase().includes(search.toLowerCase()) || item.author.toLowerCase().includes(search.toLowerCase()) || item.publisher.toLowerCase().includes(search.toLowerCase()));\n    setFilteredData(newFilteredData);\n  };\n  const onKeyUp = e => {\n    if (e.key === 'Enter') {\n      Search();\n    }\n  };\n  useEffect(() => {\n    getBook();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      marginTop: \"3em\",\n      marginLeft: \"5em\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(SearchBox, {\n        children: [/*#__PURE__*/_jsxDEV(SearchBtn, {\n          type: \"button\",\n          onClick: Search\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(SearchInput, {\n          type: \"text\",\n          value: search,\n          onChange: onChange,\n          onKeyUp: onKeyUp\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Books, {\n        children: filteredData.map(item => /*#__PURE__*/_jsxDEV(BookList, {\n          img: item.img // 변수명 바꿔야할 수도..\n          ,\n          title: item.title,\n          writer: item.author,\n          publisher: item.publisher\n        }, item.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 50\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 9\n  }, this);\n}\n_s(SearchBar, \"+XBNr5cjJpe2Dr4F+w40Di86eP4=\", false, function () {\n  return [useParams];\n});\n_c5 = SearchBar;\n;\nexport default SearchBar;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"Books\");\n$RefreshReg$(_c2, \"SearchBox\");\n$RefreshReg$(_c3, \"SearchInput\");\n$RefreshReg$(_c4, \"SearchBtn\");\n$RefreshReg$(_c5, \"SearchBar\");","map":{"version":3,"names":["React","useState","useEffect","styled","BookList","ReactComponent","SearchButton","useParams","jsxDEV","_jsxDEV","Books","div","_c","SearchBox","_c2","SearchInput","input","_c3","SearchBtn","_c4","SearchBar","_s","category_id","search","setSearch","filteredData","setFilteredData","onChange","e","target","value","book","setBook","getBook","response","fetch","json","error","console","Search","newFilteredData","data","books","filter","item","title","toLowerCase","includes","author","publisher","onKeyUp","key","style","display","justifyContent","marginTop","marginLeft","children","type","onClick","fileName","_jsxFileName","lineNumber","columnNumber","map","img","writer","id","_c5","$RefreshReg$"],"sources":["/Users/jeongsu-in/CRA/chackcheck-project/FE/src/components/common/home/SearchBar.jsx"],"sourcesContent":["import {React, useState, useEffect} from \"react\";\nimport styled from \"styled-components\"\nimport BookList from \"./BookList\";\nimport { ReactComponent as SearchButton} from \"../../../assets/searchButton.svg\";\nimport { useParams } from \"react-router-dom\";\n\nconst Books = styled.div`\n    display: grid;\n    place-items: center;\n    grid-template-columns: repeat(4, 1fr);\n    grid-template-rows: repeat(2, 1fr);\n    row-gap: 5em;\n    margin: auto;\n`;\n\nconst SearchBox = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 70vw;\n    height: 3.2em;\n    border-radius: 3em;\n    background-color: #fff;\n    border: 0.15em solid transparent;\n    background-image: linear-gradient(#fff, #fff),linear-gradient(to right,#4D4ABF,#FB8500);\n    border-image-slice: 1;\n    background-origin: border-box;\n    background-clip: content-box, border-box;\n    margin-bottom: 5em;\n\n`;\n\nconst SearchInput = styled.input`\n    width: 90%;\n    font-size: 1.3em;\n    margin-left: 0.7em;\n    background: transparent;\n    border: none;\n    -webkit-appearance: none;\n    &:focus {\n        outline: none;\n        cursor: text;\n    }\n    ;\n`\n\nconst SearchBtn = styled(SearchButton)`\n    width: 2.5em;\n    height: 2.5em;\n\n`;\n\n\nfunction SearchBar() {\n    const {category_id} =useParams();\n    const [search, setSearch] = useState(\"\");\n    const [filteredData, setFilteredData] = useState([]);\n    const onChange = (e) => setSearch(e.target.value);\n    const [book, setBook] = useState([]);\n    const getBook = async () => {\n        try {\n            const response = await fetch('http://localhost:3001/db'); \n            //const response = await fetch(`http://경로/백엔드에서 지정한 카테고리명?=${category_id}`)// 각 카테고리마다의 데이터를 가져옴\n            const json = await response.json(); // 응답을 JSON으로 변환\n            setBook(json); // 상태를 업데이트\n        } catch (error) {\n            console.error('Fetching books failed:', error); // 오류가 발생한 경우 콘솔에 오류 메시지 출력\n        } \n    };\n   \n\n    const Search = () => {\n        const newFilteredData = book.data.books.filter(item =>\n            item.title.toLowerCase().includes(search.toLowerCase()) ||\n            item.author.toLowerCase().includes(search.toLowerCase()) ||\n            item.publisher.toLowerCase().includes(search.toLowerCase())\n        );\n        setFilteredData(newFilteredData);\n    };\n    const onKeyUp = (e) => {\n        if (e.key === 'Enter') {\n          Search();\n        }\n      };\n      \n      useEffect(() => {\n        getBook()\n    },[]);\n\n    return (\n        <div style={{display:\"flex\", justifyContent: \"center\", marginTop:\"3em\", marginLeft:\"5em\"}}>\n            <div>\n                <SearchBox>\n                    <SearchBtn type=\"button\" onClick={Search}/>\n                    <SearchInput type=\"text\" value={search} onChange={onChange} onKeyUp={onKeyUp}></SearchInput>\n                </SearchBox>\n                <Books>\n                    {filteredData.map((item) => (<BookList\n                        key={item.id}\n                        img={item.img} // 변수명 바꿔야할 수도..\n                        title={item.title}\n                        writer={item.author}\n                        publisher={item.publisher}/>\n                    ))}\n                </Books>\n            </div>\n        </div>\n    );\n};\n\n\nexport default SearchBar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}